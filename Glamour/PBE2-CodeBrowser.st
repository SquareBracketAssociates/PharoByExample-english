Object subclass: #PBE2CodeNavigator	instanceVariableNames: 'browser'	classVariableNames: ''	poolDictionaries: ''	category: 'PBE2-CodeBrowser'!!PBE2CodeNavigator methodsFor: 'building' stamp: 'DamienCassou 6/25/2011 18:14'!buildBrowser 	browser := GLMTabulator new.	browser		column: #packages;		column:  #classes;		column: #categories;		column: #methods.	browser transmit to: #packages; andShow: [:a | self packagesIn: a].	browser transmit from: #packages; to: #classes; andShow: [:a | self classesIn: a].	browser transmit from: #classes; to: #categories; andShow: [:a | self categoriesIn: a].	browser transmit from: #classes; from: #categories; to: #methods; andShow: [:a | self methodsIn: a].		browser transmit from: #classes; toOutsidePort:  #selectedClass. 	browser transmit from: #methods; toOutsidePort:  #selectedMethod.		^ browser! !!PBE2CodeNavigator methodsFor: 'building' stamp: 'DamienCassou 6/25/2011 16:10'!categoriesIn: constructor	constructor list		display:  [:class | class organization categories]  ! !!PBE2CodeNavigator methodsFor: 'building' stamp: 'DamienCassou 6/26/2011 16:08'!classesIn: constructor	constructor list		display: [:packageName | (self organizer packageNamed: packageName)										definedClasses];		when: [:packageName | self organizer includesPackageNamed: packageName ];		title: 'Class list'.	constructor mondrian 		when: [:packageName | self organizer includesPackageNamed:  packageName];		painting:  [ :view :packageName | 					view nodes: (self organizer packageNamed:  packageName)									definedClasses.					view edgesFrom:  #superclass.					view treeLayout];		title: 'Hierarchy' ! !!PBE2CodeNavigator methodsFor: 'building' stamp: 'DamienCassou 6/25/2011 16:34'!methodsIn: constructor	constructor list		display: [:class :category | (class organization listAtCategoryNamed: category)										sorted].	constructor list		when: [:class :category | class notNil and: [category isNil]];		display: [:class | class selectors sorted];		allowNil! !!PBE2CodeNavigator methodsFor: 'building' stamp: 'DamienCassou 6/26/2011 16:06'!packagesIn: constructor	constructor tree		display: [ :organizer | (self rootPackagesOn: organizer) asSet sorted ];		children: [ :rootPackage :organizer | (self childrenOf: rootPackage on: organizer)													sorted ];		format: #asString! !!PBE2CodeNavigator methodsFor: 'initialize-release' stamp: 'DamienCassou 6/25/2011 15:52'!open	self buildBrowser.	browser openOn: self organizer.! !!PBE2CodeNavigator methodsFor: 'accessing' stamp: 'DamienCassou 6/25/2011 16:00'!childrenOf:  rootPackage on: organizer	^ organizer packageNames select: [ :name | name beginsWith: rootPackage , '-' ]! !!PBE2CodeNavigator methodsFor: 'accessing' stamp: 'DamienCassou 6/25/2011 15:53'!organizer 	^ RPackageOrganizer default! !!PBE2CodeNavigator methodsFor: 'accessing' stamp: 'DamienCassou 6/25/2011 16:01'!rootPackagesOn: organizer	^ organizer packageNames collect: [ :string | string readStream upTo: $- ]! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PBE2CodeNavigator class	instanceVariableNames: ''!!PBE2CodeNavigator class methodsFor: 'initialize-release' stamp: 'DamienCassou 6/25/2011 15:52'!open	^ self new open! !Object subclass: #PBE2CodeEditor	instanceVariableNames: 'browser'	classVariableNames: ''	poolDictionaries: ''	category: 'PBE2-CodeBrowser'!!PBE2CodeEditor methodsFor: 'building' stamp: 'DamienCassou 6/25/2011 18:18'!buildBrowser 	browser := GLMTabulator new.	browser 		row: #navigator;		row: #source.			browser transmit to: #navigator; andShow:  [:a | self navigatorIn: a ]. 	browser transmit		from:  #navigator port: #selectedClass;		from: #navigator port: #selectedMethod;		to: #source;		andShow:  [:a | self sourceIn: a] ! !!PBE2CodeEditor methodsFor: 'building' stamp: 'DamienCassou 6/25/2011 18:11'!navigatorIn: constructor	| navigator |	navigator := PBE2CodeNavigator new buildBrowser					sendToOutside: #selectedClass from: #classes -> #selection;					sendToOutside: #selectedMethod from: #methods -> #selection;					yourself.		 constructor custom: navigator! !!PBE2CodeEditor methodsFor: 'building' stamp: 'DamienCassou 6/26/2011 10:42'!sourceIn:  constructor	constructor  text		display:  [:class :method | class sourceCodeAt:  method ];		act: [:presentation :class :method | class compile: presentation text] on: $s entitled: 'Save'.! !!PBE2CodeEditor methodsFor: 'initialize-release' stamp: 'DamienCassou 6/25/2011 17:49'!open	self buildBrowser.	browser openOn:  self  organizer! !!PBE2CodeEditor methodsFor: 'accessing' stamp: 'DamienCassou 6/25/2011 17:49'!organizer 	^ RPackageOrganizer default! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PBE2CodeEditor class	instanceVariableNames: ''!!PBE2CodeEditor class methodsFor: 'initialize-release' stamp: 'DamienCassou 6/25/2011 17:47'!open	^ self new open! !